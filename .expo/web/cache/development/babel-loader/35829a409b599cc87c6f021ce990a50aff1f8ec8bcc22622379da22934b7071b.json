{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\office-runner-clean\\\\screens\\\\LoginScreen.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { Picker } from '@react-native-picker/picker';\nimport { BASE_URL } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginScreen({\n  navigation\n}) {\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('runner');\n  const handleLogin = async () => {\n    if (!phone || !password) {\n      Alert.alert('Error', 'Please enter both phone and password');\n      return;\n    }\n    try {\n      const res = await axios.post(`${BASE_URL}/api/login`, {\n        phone,\n        password\n      });\n      const user = res.data;\n      if (user.role !== role) {\n        Alert.alert('Error', `This user is not a ${role}`);\n        return;\n      }\n      await AsyncStorage.setItem('user', JSON.stringify(user));\n      if (role === 'runner') {\n        navigation.replace('RunnerDashboard', {\n          user\n        });\n      } else if (role === 'manager') {\n        navigation.replace('ManagerDashboard', {\n          user\n        });\n      } else {\n        navigation.replace('AdminDashboard', {\n          user\n        });\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      Alert.alert('Login Failed', 'Invalid credentials');\n    }\n  };\n  return _jsxDEV(KeyboardAvoidingView, {\n    behavior: Platform.OS === 'ios' ? 'padding' : undefined,\n    style: {\n      flex: 1\n    },\n    children: _jsxDEV(View, {\n      style: styles.container,\n      children: [_jsxDEV(Image, {\n        source: require('../assets/Logo.png'),\n        style: styles.logo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.title,\n        children: \"DBX Runner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.pickerWrapper,\n        children: _jsxDEV(Picker, {\n          selectedValue: role,\n          onValueChange: val => setRole(val),\n          style: styles.picker,\n          dropdownIconColor: \"#003366\",\n          children: [_jsxDEV(Picker.Item, {\n            label: \"Runner\",\n            value: \"runner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), _jsxDEV(Picker.Item, {\n            label: \"Manager\",\n            value: \"manager\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), _jsxDEV(Picker.Item, {\n            label: \"Admin\",\n            value: \"admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Phone\",\n        value: phone,\n        onChangeText: setPhone,\n        keyboardType: \"phone-pad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), _jsxDEV(TextInput, {\n        style: styles.input,\n        placeholder: \"Password\",\n        value: password,\n        onChangeText: setPassword,\n        secureTextEntry: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        style: styles.loginButton,\n        onPress: handleLogin,\n        children: _jsxDEV(Text, {\n          style: styles.loginButtonText,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#002B5B',\n    flex: 1,\n    justifyContent: 'center',\n    padding: 24\n  },\n  logo: {\n    width: 120,\n    height: 120,\n    resizeMode: 'contain',\n    alignSelf: 'center',\n    marginBottom: 12\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#ffffff',\n    textAlign: 'center',\n    marginBottom: 24,\n    letterSpacing: 1\n  },\n  pickerWrapper: {\n    backgroundColor: '#ffffff',\n    borderRadius: 8,\n    marginBottom: 16,\n    overflow: 'hidden'\n  },\n  picker: {\n    height: 48,\n    color: '#003366'\n  },\n  input: {\n    backgroundColor: '#ffffff',\n    padding: 12,\n    borderRadius: 8,\n    marginBottom: 14,\n    fontSize: 16\n  },\n  loginButton: {\n    backgroundColor: '#FFA500',\n    padding: 14,\n    borderRadius: 8,\n    alignItems: 'center',\n    marginTop: 8\n  },\n  loginButtonText: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    color: '#003366'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","Image","StyleSheet","Alert","KeyboardAvoidingView","Platform","axios","AsyncStorage","Picker","BASE_URL","jsxDEV","_jsxDEV","LoginScreen","navigation","phone","setPhone","password","setPassword","role","setRole","handleLogin","alert","res","post","user","data","setItem","JSON","stringify","replace","err","console","error","behavior","OS","undefined","style","flex","children","styles","container","source","require","logo","fileName","_jsxFileName","lineNumber","columnNumber","title","pickerWrapper","selectedValue","onValueChange","val","picker","dropdownIconColor","Item","label","value","input","placeholder","onChangeText","keyboardType","secureTextEntry","loginButton","onPress","loginButtonText","create","backgroundColor","justifyContent","padding","width","height","resizeMode","alignSelf","marginBottom","fontSize","fontWeight","color","textAlign","letterSpacing","borderRadius","overflow","alignItems","marginTop"],"sources":["C:/Projects/office-runner-clean/screens/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Image,\r\n  StyleSheet,\r\n  Alert,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n} from 'react-native';\r\nimport axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { BASE_URL } from '../config';\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const [phone, setPhone] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState('runner');\r\n\r\n  const handleLogin = async () => {\r\n    if (!phone || !password) {\r\n      Alert.alert('Error', 'Please enter both phone and password');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/api/login`, {\r\n        phone,\r\n        password,\r\n      });\r\n\r\n      const user = res.data;\r\n\r\n      if (user.role !== role) {\r\n        Alert.alert('Error', `This user is not a ${role}`);\r\n        return;\r\n      }\r\n\r\n      await AsyncStorage.setItem('user', JSON.stringify(user));\r\n\r\n      if (role === 'runner') {\r\n        navigation.replace('RunnerDashboard', { user });\r\n      } else if (role === 'manager') {\r\n        navigation.replace('ManagerDashboard', { user });\r\n      } else {\r\n        navigation.replace('AdminDashboard', { user });\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n      Alert.alert('Login Failed', 'Invalid credentials');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n      behavior={Platform.OS === 'ios' ? 'padding' : undefined}\r\n      style={{ flex: 1 }}\r\n    >\r\n      <View style={styles.container}>\r\n        <Image\r\n          source={require('../assets/Logo.png')}\r\n          style={styles.logo}\r\n        />\r\n        <Text style={styles.title}>DBX Runner</Text>\r\n\r\n        <View style={styles.pickerWrapper}>\r\n          <Picker\r\n            selectedValue={role}\r\n            onValueChange={(val) => setRole(val)}\r\n            style={styles.picker}\r\n            dropdownIconColor=\"#003366\"\r\n          >\r\n            <Picker.Item label=\"Runner\" value=\"runner\" />\r\n            <Picker.Item label=\"Manager\" value=\"manager\" />\r\n            <Picker.Item label=\"Admin\" value=\"admin\" />\r\n          </Picker>\r\n        </View>\r\n\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Phone\"\r\n          value={phone}\r\n          onChangeText={setPhone}\r\n          keyboardType=\"phone-pad\"\r\n        />\r\n        <TextInput\r\n          style={styles.input}\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChangeText={setPassword}\r\n          secureTextEntry\r\n        />\r\n\r\n        <TouchableOpacity style={styles.loginButton} onPress={handleLogin}>\r\n          <Text style={styles.loginButtonText}>Login</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#002B5B',\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    padding: 24,\r\n  },\r\n  logo: {\r\n    width: 120,\r\n    height: 120,\r\n    resizeMode: 'contain',\r\n    alignSelf: 'center',\r\n    marginBottom: 12,\r\n  },\r\n  title: {\r\n    fontSize: 28,\r\n    fontWeight: 'bold',\r\n    color: '#ffffff',\r\n    textAlign: 'center',\r\n    marginBottom: 24,\r\n    letterSpacing: 1,\r\n  },\r\n  pickerWrapper: {\r\n    backgroundColor: '#ffffff',\r\n    borderRadius: 8,\r\n    marginBottom: 16,\r\n    overflow: 'hidden',\r\n  },\r\n  picker: {\r\n    height: 48,\r\n    color: '#003366',\r\n  },\r\n  input: {\r\n    backgroundColor: '#ffffff',\r\n    padding: 12,\r\n    borderRadius: 8,\r\n    marginBottom: 14,\r\n    fontSize: 16,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#FFA500',\r\n    padding: 14,\r\n    borderRadius: 8,\r\n    alignItems: 'center',\r\n    marginTop: 8,\r\n  },\r\n  loginButtonText: {\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    color: '#003366',\r\n  },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}