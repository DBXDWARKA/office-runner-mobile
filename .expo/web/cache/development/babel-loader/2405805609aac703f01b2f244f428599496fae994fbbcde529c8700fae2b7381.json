{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\office-runner-clean\\\\screens\\\\LoginScreen.js\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\nimport { Picker } from '@react-native-picker/picker';\nimport { BASE_URL } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginScreen({\n  navigation\n}) {\n  const [phone, setPhone] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState('runner');\n  const handleLogin = async () => {\n    try {\n      const res = await axios.post(`${BASE_URL}/api/login`, {\n        phone,\n        password\n      });\n      const user = res.data;\n      await AsyncStorage.setItem('user', JSON.stringify(user));\n      await AsyncStorage.setItem('role', role);\n      if (role === 'runner') {\n        navigation.replace('RunnerDashboard');\n      } else if (role === 'manager') {\n        navigation.replace('ManagerDashboard');\n      } else {\n        Alert.alert('Info', 'Admin panel coming soon.');\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      Alert.alert('Invalid Credentials', 'Please check your phone and password.');\n    }\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Office Runner Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Phone\",\n      keyboardType: \"numeric\",\n      value: phone,\n      onChangeText: setPhone\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), _jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"Password\",\n      secureTextEntry: true,\n      value: password,\n      onChangeText: setPassword\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), _jsxDEV(Text, {\n      style: styles.label,\n      children: \"Select Role\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), _jsxDEV(Picker, {\n      selectedValue: role,\n      onValueChange: value => setRole(value),\n      style: styles.picker,\n      children: [_jsxDEV(Picker.Item, {\n        label: \"Runner\",\n        value: \"runner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), _jsxDEV(Picker.Item, {\n        label: \"Manager\",\n        value: \"manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), _jsxDEV(Picker.Item, {\n        label: \"Admin\",\n        value: \"admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), _jsxDEV(Button, {\n      title: \"Login\",\n      onPress: handleLogin,\n      color: \"#003366\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n}\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 24,\n    justifyContent: 'center',\n    backgroundColor: '#f4f6fa'\n  },\n  title: {\n    fontSize: 24,\n    marginBottom: 16,\n    color: '#003366',\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  input: {\n    height: 44,\n    borderColor: '#ccc',\n    borderWidth: 1,\n    marginBottom: 12,\n    paddingHorizontal: 10,\n    borderRadius: 8,\n    backgroundColor: '#fff'\n  },\n  label: {\n    fontWeight: 'bold',\n    marginBottom: 4,\n    color: '#003366'\n  },\n  picker: {\n    marginBottom: 20,\n    backgroundColor: '#eef2f9',\n    borderRadius: 8\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","StyleSheet","Alert","AsyncStorage","axios","Picker","BASE_URL","jsxDEV","_jsxDEV","LoginScreen","navigation","phone","setPhone","password","setPassword","role","setRole","handleLogin","res","post","user","data","setItem","JSON","stringify","replace","alert","err","console","error","style","styles","container","children","title","fileName","_jsxFileName","lineNumber","columnNumber","input","placeholder","keyboardType","value","onChangeText","secureTextEntry","label","selectedValue","onValueChange","picker","Item","onPress","color","create","flex","padding","justifyContent","backgroundColor","fontSize","marginBottom","fontWeight","textAlign","height","borderColor","borderWidth","paddingHorizontal","borderRadius"],"sources":["C:/Projects/office-runner-clean/screens/LoginScreen.js"],"sourcesContent":["// LoginScreen.js\r\nimport React, { useState } from 'react';\r\nimport { View, Text, TextInput, Button, StyleSheet, Alert } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport axios from 'axios';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { BASE_URL } from '../config';\r\n\r\nexport default function LoginScreen({ navigation }) {\r\n  const [phone, setPhone] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [role, setRole] = useState('runner'); // Default role\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const res = await axios.post(`${BASE_URL}/api/login`, { phone, password });\r\n      const user = res.data;\r\n\r\n      await AsyncStorage.setItem('user', JSON.stringify(user));\r\n      await AsyncStorage.setItem('role', role);\r\n\r\n      if (role === 'runner') {\r\n        navigation.replace('RunnerDashboard');\r\n      } else if (role === 'manager') {\r\n        navigation.replace('ManagerDashboard');\r\n      } else {\r\n        Alert.alert('Info', 'Admin panel coming soon.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Login error:', err);\r\n      Alert.alert('Invalid Credentials', 'Please check your phone and password.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.title}>Office Runner Login</Text>\r\n\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Phone\"\r\n        keyboardType=\"numeric\"\r\n        value={phone}\r\n        onChangeText={setPhone}\r\n      />\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Password\"\r\n        secureTextEntry\r\n        value={password}\r\n        onChangeText={setPassword}\r\n      />\r\n\r\n      <Text style={styles.label}>Select Role</Text>\r\n      <Picker\r\n        selectedValue={role}\r\n        onValueChange={(value) => setRole(value)}\r\n        style={styles.picker}\r\n      >\r\n        <Picker.Item label=\"Runner\" value=\"runner\" />\r\n        <Picker.Item label=\"Manager\" value=\"manager\" />\r\n        <Picker.Item label=\"Admin\" value=\"admin\" />\r\n      </Picker>\r\n\r\n      <Button title=\"Login\" onPress={handleLogin} color=\"#003366\" />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 24,\r\n    justifyContent: 'center',\r\n    backgroundColor: '#f4f6fa',\r\n  },\r\n  title: {\r\n    fontSize: 24,\r\n    marginBottom: 16,\r\n    color: '#003366',\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    height: 44,\r\n    borderColor: '#ccc',\r\n    borderWidth: 1,\r\n    marginBottom: 12,\r\n    paddingHorizontal: 10,\r\n    borderRadius: 8,\r\n    backgroundColor: '#fff',\r\n  },\r\n  label: {\r\n    fontWeight: 'bold',\r\n    marginBottom: 4,\r\n    color: '#003366',\r\n  },\r\n  picker: {\r\n    marginBottom: 20,\r\n    backgroundColor: '#eef2f9',\r\n    borderRadius: 8,\r\n  },\r\n});\r\n"],"mappings":";AACA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,KAAA;AAExC,OAAOC,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,MAAM,QAAQ,6BAA6B;AACpD,SAASC,QAAQ,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErC,eAAe,SAASC,WAAWA,CAAC;EAAEC;AAAW,CAAC,EAAE;EAClD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAAC,QAAQ,CAAC;EAE1C,MAAMqB,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,IAAI,CAAC,GAAGb,QAAQ,YAAY,EAAE;QAAEK,KAAK;QAAEE;MAAS,CAAC,CAAC;MAC1E,MAAMO,IAAI,GAAGF,GAAG,CAACG,IAAI;MAErB,MAAMlB,YAAY,CAACmB,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC,CAAC;MACxD,MAAMjB,YAAY,CAACmB,OAAO,CAAC,MAAM,EAAEP,IAAI,CAAC;MAExC,IAAIA,IAAI,KAAK,QAAQ,EAAE;QACrBL,UAAU,CAACe,OAAO,CAAC,iBAAiB,CAAC;MACvC,CAAC,MAAM,IAAIV,IAAI,KAAK,SAAS,EAAE;QAC7BL,UAAU,CAACe,OAAO,CAAC,kBAAkB,CAAC;MACxC,CAAC,MAAM;QACLvB,KAAK,CAACwB,KAAK,CAAC,MAAM,EAAE,0BAA0B,CAAC;MACjD;IACF,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,cAAc,EAAEF,GAAG,CAAC;MAClCzB,KAAK,CAACwB,KAAK,CAAC,qBAAqB,EAAE,uCAAuC,CAAC;IAC7E;EACF,CAAC;EAED,OACElB,OAAA,CAACX,IAAI;IAACiC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC5BzB,OAAA,CAACV,IAAI;MAACgC,KAAK,EAAEC,MAAM,CAACG,KAAM;MAAAD,QAAA,EAAC;IAAmB;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAErD9B,OAAA,CAACT,SAAS;MACR+B,KAAK,EAAEC,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,OAAO;MACnBC,YAAY,EAAC,SAAS;MACtBC,KAAK,EAAE/B,KAAM;MACbgC,YAAY,EAAE/B;IAAS;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxB,CAAC,EACF9B,OAAA,CAACT,SAAS;MACR+B,KAAK,EAAEC,MAAM,CAACQ,KAAM;MACpBC,WAAW,EAAC,UAAU;MACtBI,eAAe;MACfF,KAAK,EAAE7B,QAAS;MAChB8B,YAAY,EAAE7B;IAAY;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,EAEF9B,OAAA,CAACV,IAAI;MAACgC,KAAK,EAAEC,MAAM,CAACc,KAAM;MAAAZ,QAAA,EAAC;IAAW;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAC7C9B,OAAA,CAACH,MAAM;MACLyC,aAAa,EAAE/B,IAAK;MACpBgC,aAAa,EAAGL,KAAK,IAAK1B,OAAO,CAAC0B,KAAK,CAAE;MACzCZ,KAAK,EAAEC,MAAM,CAACiB,MAAO;MAAAf,QAAA,GAErBzB,OAAA,CAACH,MAAM,CAAC4C,IAAI;QAACJ,KAAK,EAAC,QAAQ;QAACH,KAAK,EAAC;MAAQ;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC7C9B,OAAA,CAACH,MAAM,CAAC4C,IAAI;QAACJ,KAAK,EAAC,SAAS;QAACH,KAAK,EAAC;MAAS;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAC/C9B,OAAA,CAACH,MAAM,CAAC4C,IAAI;QAACJ,KAAK,EAAC,OAAO;QAACH,KAAK,EAAC;MAAO;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,EAET9B,OAAA,CAACR,MAAM;MAACkC,KAAK,EAAC,OAAO;MAACgB,OAAO,EAAEjC,WAAY;MAACkC,KAAK,EAAC;IAAS;MAAAhB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1D,CAAC;AAEX;AAEA,MAAMP,MAAM,GAAG9B,UAAU,CAACmD,MAAM,CAAC;EAC/BpB,SAAS,EAAE;IACTqB,IAAI,EAAE,CAAC;IACPC,OAAO,EAAE,EAAE;IACXC,cAAc,EAAE,QAAQ;IACxBC,eAAe,EAAE;EACnB,CAAC;EACDtB,KAAK,EAAE;IACLuB,QAAQ,EAAE,EAAE;IACZC,YAAY,EAAE,EAAE;IAChBP,KAAK,EAAE,SAAS;IAChBQ,UAAU,EAAE,MAAM;IAClBC,SAAS,EAAE;EACb,CAAC;EACDrB,KAAK,EAAE;IACLsB,MAAM,EAAE,EAAE;IACVC,WAAW,EAAE,MAAM;IACnBC,WAAW,EAAE,CAAC;IACdL,YAAY,EAAE,EAAE;IAChBM,iBAAiB,EAAE,EAAE;IACrBC,YAAY,EAAE,CAAC;IACfT,eAAe,EAAE;EACnB,CAAC;EACDX,KAAK,EAAE;IACLc,UAAU,EAAE,MAAM;IAClBD,YAAY,EAAE,CAAC;IACfP,KAAK,EAAE;EACT,CAAC;EACDH,MAAM,EAAE;IACNU,YAAY,EAAE,EAAE;IAChBF,eAAe,EAAE,SAAS;IAC1BS,YAAY,EAAE;EAChB;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}